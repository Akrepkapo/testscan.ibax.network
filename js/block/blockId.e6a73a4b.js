import{i as a,y as e,A as l,H as t}from"../element-plus/element-plus.bab642f5.js";import"../vue/vue.35a5c883.js";import{_ as n}from"../node/node.8b7398ea.js";import{u as s}from"../vue-router/vue-router.62720988.js";import{h as i,i as c,j as o,k as r,a as d,g as p,e as h}from"../../assets/index.32f89fa2.js";import{_ as u}from"../vue-qr/vue-qr.0ca12301.js";import{e as b,X as m,w as v,W as f,o as k,c as j,a as g,T as _,K as y,u as x,O as $,P as w,R as z,$ as A}from"../@vue/@vue.077a65af.js";import{a as C}from"../axios/axios.3ae77db0.js";import"../@vueuse/@vueuse.57a4e826.js";import"../@element-plus/@element-plus.19eacc1c.js";import"../dayjs/dayjs.7a5f879f.js";import"../@intlify/@intlify.d33e2919.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@ctrl/@ctrl.17547d95.js";import"../escape-html/escape-html.d572c0fd.js";import"../@popperjs/@popperjs.12a79995.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.e0b6e81d.js";import"../vuex/vuex.389a1fed.js";import"../echarts/echarts.cc448593.js";import"../zrender/zrender.a8917a70.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.4fe9f180.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.32907f0d.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const R={class:"chain"},N={key:0,class:"data-box"},I=g("img",{src:n,alt:"node"},null,-1),q={key:1,class:"chain"},B={class:"panel-content chain-content"},H={class:"panel-content-left panel-content-left-mobile"},X={class:"panel-content-chart"},K={class:"panel-content-chart-box"},O={class:"chain-line"},P={class:"panel-item-child-title"},S={class:"chain-line"},T={class:"chain-line"},V={class:"chain-content-detail-item-box-label"},W={class:"chain-line-time"},D={class:"chain-line-time-utc"},E={class:"chain-line"},F={class:"chain-line"},G={class:"chain-line"},J={class:"chain-line-img"},L=["src"],M={class:"chain-line"},Q={class:"chain-content-detail-item-box-label"},U={class:"chain-line-beyond"},Y={class:"panel-content-right"},Z={class:"panel-content-chart chain-content-right"},aa={class:"panel-content-chart-box chain-content-hash"},ea={class:"chain-content-detail"},la={class:"chain-content-detail-item"},ta={class:"chain-content-detail-item-box"},na={class:"chain-content-detail-item-box-label"},sa=g("div",{class:"chain-content-detail-item-box"},[g("i",{class:"iconfont el-a-blocksize"})],-1),ia={class:"chain-content-detail-item"},ca={class:"chain-content-detail-item-box"},oa=g("div",{class:"chain-content-detail-item-box"},[g("i",{class:"iconfont el-a-numberoftransactions"})],-1),ra={class:"chain-line-box"},da={class:"chain-line"},pa={class:"chain-content-detail-item-box-label"},ha={class:"chain-line-beyond",style:{"margin-left":"auto"}},ua={class:"chain-line chain-line-box-version"},ba={class:"chain-content"},ma={class:"panel-content-chart"},va={class:"panel-content-chart-box"},fa={class:"chain-line"},ka={class:"panel-item-child-title"},ja={class:"chain-line"},ga={class:"chain-content-detail-item-box-label"},_a={class:"chain-line-beyond"},ya={class:"chain-line"},xa={class:"chain-content-detail-item-box-label"},$a={class:"chain-line-beyond"},wa={class:"chain-line"},za={class:"chain-content-detail-item-box-label"},Aa={class:"chain-line-beyond"},Ca={class:"chain-line-content"},Ra={class:"panel-content-chart"},Na={class:"panel-content-chart-box chain-content-table"},Ia={class:"panel-content-table-title panel-item-child-title"},qa={class:"panel-table"},Ba={class:"panel-content-table"},Ha={class:"panel-content-table-page"};var Xa=u({setup(n){const u=b(""),Xa=s(),Ka=i(),Oa=b("");u.value=Number(Xa.params.id);const Pa={block_id:"",page:1,limit:10},Sa=m({data:{},header:{},obj:{page:1,limit:10},arr:[]}),Ta=async a=>{const e=await C.post("block_detail_tx_list",a);0===e.code&&e.data&&(Sa.arr=e.data.transactions,Sa.obj.page=e.data.page,Sa.obj.limit=e.data.limit,Sa.obj.total=e.data.total)};v((()=>{"BlockId"===Xa.name&&Xa.params.id&&(u.value=Number(Xa.params.id),Pa.block_id=u.value,(async a=>{const e=await C.get(`/block_detail/${a}`);0===e.code&&e.data?(Oa.value="",Sa.data=e.data,Sa.header=e.data.header):Oa.value=e.message})(u.value),Ta(Pa))}));const Va=a=>{Pa.page=a,Ta(Pa)},Wa=p();return(n,s)=>{const i=f("router-link"),p=a,u=e,b=l,m=t;return k(),j("div",R,[Oa.value?(k(),j("div",N,[I,g("div",null,_(Oa.value),1)])):(k(),j("div",q,[y(" block info  "),g("div",B,[g("div",H,[g("div",X,[g("div",K,[g("div",O,[g("span",P,_(n.$t("block.info")),1)]),g("div",S,[g("span",null,_(n.$t("panel.block"))+"：",1),g("span",null,_(x(Sa).header.block_id),1)]),g("div",T,[g("span",V,_(n.$t("panel.generation"))+"：",1),g("div",W,[g("span",null,_(x(c)(x(Sa).header.time)),1),g("span",D," ( "+_(x(o)(x(Sa).header.time))+" ) ",1)])]),g("div",E,[g("span",null,_(n.$t("block.account"))+"：",1),g("div",F,[x(Sa).header.key_id?(k(),$(i,{key:0,to:{name:"AccountAddress",params:{address:x(Sa).header.key_id}}},{default:w((()=>[g("span",null,_(x(Sa).header.key_id),1)])),_:1},8,["to"])):y("v-if",!0),g("i",{class:"iconfont el-Reproduction panel-content-table-symbol",onClick:s[0]||(s[0]=a=>x(r)(x(Sa).header.key_id))})])]),g("div",G,[g("span",null,_(n.$t("panel.packaging"))+"：",1),g("div",J,[g("span",null,_(x(Sa).header.address),1),g("img",{src:`${x(Wa)}${x(Sa).header.icon_url}`,alt:""},null,8,L)])]),g("div",M,[g("span",Q,_(n.$t("block.last"))+"：",1),z(p,{effect:"dark",content:x(Sa).header.prehash,placement:"bottom"},{default:w((()=>[g("span",U,_(x(Sa).header.prehash),1)])),_:1},8,["content"])])])])]),y(" block info "),g("div",Y,[g("div",Z,[g("div",aa,[g("div",ea,[g("div",la,[g("div",ta,[g("span",na,_(n.$t("panel.size")),1),g("span",null,_(x(Sa).data.blocksize),1)]),sa]),g("div",ia,[g("div",ca,[g("span",null,_(n.$t("block.trans")),1),g("span",null,_(x(d)(String(x(Sa).data.tx_count)))+" "+_(n.$t("block.strip")),1)]),oa])]),g("div",ra,[g("div",da,[g("span",pa,_(n.$t("block.sign"))+"：",1),z(p,{effect:"dark",content:x(Sa).header.sign,placement:"bottom"},{default:w((()=>[g("span",ha,_(x(Sa).header.sign),1)])),_:1},8,["content"])]),g("div",ua,[g("span",null,_(n.$t("block.version"))+"：",1),g("span",null,_(x(Sa).header.version),1)])])])])])]),y(" block content  "),g("div",ba,[g("div",ma,[g("div",va,[g("div",fa,[g("span",ka,_(n.$t("block.content")),1)]),g("div",ja,[g("span",ga,_(n.$t("block.value"))+"：",1),g("span",_a,_(x(Sa).data.hash),1),g("i",{class:"iconfont el-Reproduction",onClick:s[1]||(s[1]=a=>x(r)(x(Sa).data.hash))})]),g("div",ya,[g("span",xa,_(n.$t("block.roll"))+"：",1),g("span",$a,_(x(Sa).data.rollbacks_hash),1),g("i",{class:"iconfont el-Reproduction",onClick:s[2]||(s[2]=a=>x(r)(x(Sa).data.rollbacks_hash))})]),g("div",wa,[g("span",za,_(n.$t("block.merkel"))+"：",1),z(p,{effect:"dark",content:x(Sa).data.mrkl_root,placement:"bottom"},{default:w((()=>[g("span",Aa,_(x(Sa).data.mrkl_root),1)])),_:1},8,["content"]),g("i",{class:"iconfont el-Reproduction",onClick:s[3]||(s[3]=a=>x(r)(x(Sa).data.mrkl_root))})]),g("div",Ca,[g("div",null,[g("span",null,_(n.$t("block.trans"))+"：",1),g("span",null,_(x(Sa).data.tx_count),1)]),g("div",null,[g("span",null,_(n.$t("panel.size"))+"：",1),g("span",null,_(x(Sa).data.blocksize),1)]),g("div",null,[g("span",null,_(n.$t("block.hash"))+"：",1),g("span",null,_(x(Sa).data.trantotalsize),1)])])])])]),y(" block details list "),g("div",Ra,[g("div",Na,[g("div",Ia,_(n.$t("block.affair")),1),g("div",qa,[g("div",Ba,[z(b,{data:x(Sa).arr,stripe:"",style:{width:"100%"},"show-header":!1},{default:w((()=>[z(u,{label:n.$t("panel.thash"),"show-overflow-tooltip":""},{default:w((a=>[z(i,{to:{name:"HashValue",params:{value:a.row.hash}}},{default:w((()=>[A(_(a.row.hash),1)])),_:2},1032,["to"])])),_:1},8,["label"]),z(u,{label:n.$t("panel.transactions")},{default:w((a=>[g("span",null,_(a.row.contract_name),1)])),_:1},8,["label"]),z(u,{label:n.$t("panel.generation")},{default:w((a=>[g("span",null,_(x(h)(a.row.time)),1)])),_:1},8,["label"]),z(u,{label:n.$t("panel.rewardAddress")},{default:w((a=>[a.row.key_id?(k(),$(i,{key:0,to:{name:"AccountAddress",params:{address:a.row.key_id}}},{default:w((()=>[g("span",null,_(a.row.key_id),1)])),_:2},1032,["to"])):y("v-if",!0)])),_:1},8,["label"]),z(u,null,{default:w((a=>[g("span",null,_(a.row.size),1)])),_:1}),z(u,null,{default:w((a=>[g("span",null,_(a.row.ecosystemname),1)])),_:1})])),_:1},8,["data"])])]),g("div",Ha,[z(m,{small:"",background:"","hide-on-single-page":"","pager-count":x(Ka)?5:11,layout:"prev, pager, next","current-page":Number(x(Sa).obj.page),"page-size":x(Sa).obj.limit,total:Number(x(Sa).obj.total),onCurrentChange:Va},null,8,["pager-count","current-page","page-size","total"])])])])]))])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/chain/block/blockId.vue"]]);export{Xa as default};
