var a=(a,e,l)=>new Promise(((t,n)=>{var s=a=>{try{c(l.next(a))}catch(e){n(e)}},i=a=>{try{c(l.throw(a))}catch(e){n(e)}},c=a=>a.done?t(a.value):Promise.resolve(a.value).then(s,i);c((l=l.apply(a,e)).next())}));import{i as e,B as l,C as t,J as n}from"../element-plus/element-plus.33684f86.js";import"../vue/vue.f1679ee2.js";import{_ as s}from"../node/node.8b7398ea.js";import{u as i}from"../vue-router/vue-router.2e4e5314.js";import{h as c,g as o,i as r,j as d,a as p,f as h,k as u}from"../../assets/index.2d4594bb.js";import{_ as b}from"../vue-qr/vue-qr.811c440f.js";import{d as m,X as v,w as f,a0 as k,o as j,c as _,a as g,U as y,L as x,u as $,P as w,Q as z,S as C,a4 as A}from"../@vue/@vue.43bf68a9.js";import{a as N}from"../axios/axios.3ae77db0.js";import"../@vueuse/@vueuse.f1890054.js";import"../@element-plus/@element-plus.0865cea0.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@intlify/@intlify.d33e2919.js";import"../@ctrl/@ctrl.17547d95.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.4f18ce48.js";import"../vuex/vuex.df607009.js";import"../dayjs/dayjs.206dce34.js";import"../echarts/echarts.1c1b7efd.js";import"../zrender/zrender.c7ccb335.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.fd53ebfa.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.08c7aea6.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const R={class:"chain"},B={key:0,class:"data-box"},I=g("img",{src:s,alt:"node"},null,-1),P={key:1,class:"chain"},q={class:"panel-content chain-content"},S={class:"panel-content-left panel-content-left-mobile"},X={class:"panel-content-chart"},H={class:"panel-content-chart-box"},J={class:"chain-line"},L={class:"panel-item-child-title"},Q={class:"chain-line"},U={class:"chain-line"},V={class:"chain-content-detail-item-box-label"},D={class:"chain-line-time"},E={class:"chain-line-time-utc"},F={class:"chain-line"},G={class:"chain-line"},K={class:"chain-line"},M={class:"chain-line-img"},O=["src"],T={class:"chain-line"},W={class:"chain-content-detail-item-box-label"},Y={class:"chain-line-beyond"},Z={class:"panel-content-right"},aa={class:"panel-content-chart chain-content-right"},ea={class:"panel-content-chart-box chain-content-hash"},la={class:"chain-content-detail"},ta={class:"chain-content-detail-item"},na={class:"chain-content-detail-item-box"},sa={class:"chain-content-detail-item-box-label"},ia=g("div",{class:"chain-content-detail-item-box"},[g("i",{class:"iconfont el-a-blocksize"})],-1),ca={class:"chain-content-detail-item"},oa={class:"chain-content-detail-item-box"},ra=g("div",{class:"chain-content-detail-item-box"},[g("i",{class:"iconfont el-a-numberoftransactions"})],-1),da={class:"chain-line-box"},pa={class:"chain-line"},ha={class:"chain-content-detail-item-box-label"},ua={class:"chain-line-beyond",style:{"margin-left":"auto"}},ba={class:"chain-line chain-line-box-version"},ma={class:"chain-content"},va={class:"panel-content-chart"},fa={class:"panel-content-chart-box"},ka={class:"chain-line"},ja={class:"panel-item-child-title"},_a={class:"chain-line"},ga={class:"chain-content-detail-item-box-label"},ya={class:"chain-line-beyond"},xa={class:"chain-line"},$a={class:"chain-content-detail-item-box-label"},wa={class:"chain-line-beyond"},za={class:"chain-line"},Ca={class:"chain-content-detail-item-box-label"},Aa={class:"chain-line-beyond"},Na={class:"chain-line-content"},Ra={class:"panel-content-chart"},Ba={class:"panel-content-chart-box chain-content-table"},Ia={class:"panel-content-table-title panel-item-child-title"},Pa={class:"panel-table"},qa={class:"panel-content-table"},Sa={class:"panel-content-table-page"};var Xa=b({setup(s){const b=m(""),Xa=i(),Ha=c(),Ja=m("");b.value=Number(Xa.params.id);const La={block_id:"",page:1,limit:10},Qa=v({data:{},header:{},obj:{page:1,limit:10},arr:[]}),Ua=e=>a(this,null,(function*(){const a=yield N.get(`/block_detail/${e}`);0===a.code&&a.data?(Ja.value="",Qa.data=a.data,Qa.header=a.data.header):Ja.value=a.message})),Va=e=>a(this,null,(function*(){const a=yield N.post("block_detail_tx_list",e);0===a.code&&a.data&&(Qa.arr=a.data.transactions,Qa.obj.page=a.data.page,Qa.obj.limit=a.data.limit,Qa.obj.total=a.data.total)}));f((()=>{"BlockId"===Xa.name&&Xa.params.id&&(b.value=Number(Xa.params.id),La.block_id=b.value,Ua(b.value),Va(La))}));const Da=a=>{La.page=a,Va(La)},Ea=h();return(a,s)=>{const i=k("router-link"),c=e,h=l,b=t,m=n;return j(),_("div",R,[Ja.value?(j(),_("div",B,[I,g("div",null,y(Ja.value),1)])):(j(),_("div",P,[x(" block info  "),g("div",q,[g("div",S,[g("div",X,[g("div",H,[g("div",J,[g("span",L,y(a.$t("block.info")),1)]),g("div",Q,[g("span",null,y(a.$t("panel.block"))+"：",1),g("span",null,y($(Qa).header.block_id),1)]),g("div",U,[g("span",V,y(a.$t("panel.generation"))+"：",1),g("div",D,[g("span",null,y($(o)($(Qa).header.time)),1),g("span",E," ( "+y($(r)($(Qa).header.time))+" ) ",1)])]),g("div",F,[g("span",null,y(a.$t("block.account"))+"：",1),g("div",G,[$(Qa).header.key_id?(j(),w(i,{key:0,to:{name:"AccountAddress",params:{address:$(Qa).header.key_id}}},{default:z((()=>[g("span",null,y($(Qa).header.key_id),1)])),_:1},8,["to"])):x("v-if",!0),g("i",{class:"iconfont el-Reproduction panel-content-table-symbol",onClick:s[0]||(s[0]=a=>$(d)($(Qa).header.key_id))})])]),g("div",K,[g("span",null,y(a.$t("panel.packaging"))+"：",1),g("div",M,[g("span",null,y($(Qa).header.address),1),g("img",{src:`${$(Ea)}${$(Qa).header.icon_url}`,alt:""},null,8,O)])]),g("div",T,[g("span",W,y(a.$t("block.last"))+"：",1),C(c,{effect:"dark",content:$(Qa).header.pre_hash,placement:"bottom"},{default:z((()=>[g("span",Y,y($(Qa).header.pre_hash),1)])),_:1},8,["content"])])])])]),x(" block info "),g("div",Z,[g("div",aa,[g("div",ea,[g("div",la,[g("div",ta,[g("div",na,[g("span",sa,y(a.$t("panel.size")),1),g("span",null,y($(Qa).data.block_size),1)]),ia]),g("div",ca,[g("div",oa,[g("span",null,y(a.$t("block.trans")),1),g("span",null,y($(p)(String($(Qa).data.tx_count)))+" "+y(a.$t("block.strip")),1)]),ra])]),g("div",da,[g("div",pa,[g("span",ha,y(a.$t("block.sign"))+"：",1),C(c,{effect:"dark",content:$(Qa).header.sign,placement:"bottom"},{default:z((()=>[g("span",ua,y($(Qa).header.sign),1)])),_:1},8,["content"])]),g("div",ba,[g("span",null,y(a.$t("block.version"))+"：",1),g("span",null,y($(Qa).header.version),1)])])])])])]),x(" block content  "),g("div",ma,[g("div",va,[g("div",fa,[g("div",ka,[g("span",ja,y(a.$t("block.content")),1)]),g("div",_a,[g("span",ga,y(a.$t("block.value"))+"：",1),g("span",ya,y($(Qa).data.hash),1),g("i",{class:"iconfont el-Reproduction",onClick:s[1]||(s[1]=a=>$(d)($(Qa).data.hash))})]),g("div",xa,[g("span",$a,y(a.$t("block.roll"))+"：",1),g("span",wa,y($(Qa).data.rollbacks_hash),1),g("i",{class:"iconfont el-Reproduction",onClick:s[2]||(s[2]=a=>$(d)($(Qa).data.rollbacks_hash))})]),g("div",za,[g("span",Ca,y(a.$t("block.merkel"))+"：",1),C(c,{effect:"dark",content:$(Qa).data.merkle_root,placement:"bottom"},{default:z((()=>[g("span",Aa,y($(Qa).data.merkle_root),1)])),_:1},8,["content"]),g("i",{class:"iconfont el-Reproduction",onClick:s[3]||(s[3]=a=>$(d)($(Qa).data.merkle_root))})]),g("div",Na,[g("div",null,[g("span",null,y(a.$t("block.trans"))+"：",1),g("span",null,y($(Qa).data.tx_count),1)]),g("div",null,[g("span",null,y(a.$t("panel.size"))+"：",1),g("span",null,y($(Qa).data.block_size),1)]),g("div",null,[g("span",null,y(a.$t("block.hash"))+"：",1),g("span",null,y($(Qa).data.tx_total_size),1)])])])])]),x(" block details list "),g("div",Ra,[g("div",Ba,[g("div",Ia,y(a.$t("block.affair")),1),g("div",Pa,[g("div",qa,[C(b,{data:$(Qa).arr,stripe:"",style:{width:"100%"},"show-header":!1},{default:z((()=>[C(h,{label:a.$t("panel.thash"),"show-overflow-tooltip":""},{default:z((a=>[C(i,{to:{name:"HashValue",params:{value:a.row.hash}}},{default:z((()=>[A(y(a.row.hash),1)])),_:2},1032,["to"])])),_:1},8,["label"]),C(h,{label:a.$t("panel.transactions")},{default:z((a=>[g("span",null,y(a.row.contract_name),1)])),_:1},8,["label"]),C(h,{label:a.$t("panel.generation")},{default:z((a=>[g("span",null,y($(u)(a.row.time)),1)])),_:1},8,["label"]),C(h,{label:a.$t("panel.rewardAddress")},{default:z((a=>[a.row.key_id?(j(),w(i,{key:0,to:{name:"AccountAddress",params:{address:a.row.key_id}}},{default:z((()=>[g("span",null,y(a.row.key_id),1)])),_:2},1032,["to"])):x("v-if",!0)])),_:1},8,["label"]),C(h,null,{default:z((a=>[g("span",null,y(a.row.size),1)])),_:1}),C(h,null,{default:z((a=>[g("span",null,y(a.row.ecosystemname),1)])),_:1})])),_:1},8,["data"])])]),g("div",Sa,[C(m,{small:"",background:"","hide-on-single-page":"","pager-count":$(Ha)?5:11,layout:"prev, pager, next","current-page":Number($(Qa).obj.page),"page-size":$(Qa).obj.limit,total:Number($(Qa).obj.total),onCurrentChange:Da},null,8,["pager-count","current-page","page-size","total"])])])])]))])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/chain/block/blockId.vue"]]);export{Xa as default};
