import{i as e,A as a,B as t,I as l}from"../element-plus/element-plus.ec3bfd4a.js";import{h as s,a as n,b as o,c,d as i,e as r,f as p,_ as d}from"../../assets/index.094ef30c.js";import"../vue/vue.35a5c883.js";import{_ as m}from"../vue-qr/vue-qr.0ca12301.js";import{X as b,W as u,o as f,c as h,a as v,K as j,T as g,R as _,P as k,u as x,F as w,O as y,$}from"../@vue/@vue.077a65af.js";import{a as z}from"../axios/axios.3ae77db0.js";import"../@vueuse/@vueuse.57a4e826.js";import"../@element-plus/@element-plus.19eacc1c.js";import"../dayjs/dayjs.7a5f879f.js";import"../@intlify/@intlify.d33e2919.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@ctrl/@ctrl.17547d95.js";import"../escape-html/escape-html.d572c0fd.js";import"../@popperjs/@popperjs.12a79995.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.e0b6e81d.js";import"../vuex/vuex.389a1fed.js";import"../vue-router/vue-router.62720988.js";import"../echarts/echarts.acca1833.js";import"../zrender/zrender.e63004cf.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.c19cb34c.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.32907f0d.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const A={class:"chain"},D={class:"panel-content chain-content"},C={class:"panel-content-left panel-content-left-mobile"},I={class:"panel-content-chart"},B={class:"panel-content-chart-box"},L={class:"chain-box"},N={class:"chain-box-item"},q={class:"chain-box-item-image"},T=v("img",{src:"/assets/block.6bfdb275.png",alt:"block"},null,-1),X=v("i",{class:"iconfont el-Description"},null,-1),F={class:"chain-box-item"},H={class:"chain-box-item-image"},K=v("img",{src:"/assets/block-1.da12d45f.png",alt:"block"},null,-1),O=v("i",{class:"iconfont el-Description"},null,-1),P={class:"chain-box"},R={class:"chain-box-item"},S={class:"chain-box-item-image"},U=v("img",{src:"/assets/block-2.ee42ec2f.png",alt:"block"},null,-1),W=v("i",{class:"iconfont el-Description"},null,-1),E={class:"chain-box-item"},G={class:"chain-box-item-image"},J=v("img",{src:"/assets/block-3.caf012a0.png",alt:"block"},null,-1),M=v("i",{class:"iconfont el-Description"},null,-1),Q=v("div",{class:"panel-content-right"},[j(" chart "),v("div",{class:"panel-content-chart chain-content-right"},[v("div",{class:"panel-content-chart-box"},[v("div",{id:"blockList",class:"chain-content-chart"})])])],-1),V={class:"panel-content-chart"},Y={class:"panel-content-chart-box chain-content-table"},Z={class:"panel-table"},ee={class:"panel-content-table"},ae={class:"panel-content-table-header"},te={class:"panel-content-table-header-text"},le=v("i",{class:"iconfont el-Description"},null,-1),se={class:"chain-account-item-symbol"},ne=["src"],oe=v("i",{class:"iconfont el-Description"},null,-1),ce={class:"panel-content-table-header"},ie={class:"panel-content-table-header-text"},re=v("i",{class:"iconfont el-Description"},null,-1),pe={class:"panel-content-table-header"},de={class:"panel-content-table-header-text"},me=v("i",{class:"iconfont el-Description"},null,-1),be={class:"chain-account-item-symbol"},ue={class:"panel-content-table-page"};var fe=m({setup(m){const fe={page:1,limit:10,order:"id desc"},he=b({arr:[],obj:{limit:10,total:0,block_id:0,max_tps:0,max_block_size:0,storage_capacitys:0}}),ve=async e=>{const a=await z.post("/block_list",e);0===a.code&&(he.arr=a.data.list,he.obj=a.data.block_info,he.obj.total=a.data.total,he.obj.page=a.data.page,he.obj.limit=10)};(async()=>{const e=await z.get("/block_list_chart");if(0===e.code){const a=o("block.fifteen"),{time:t,block:l}=e.data,s=t.map((e=>c(e))),n=l.map((e=>e)),r={xAxis:s,legend:[o("account.add")],series:[n]};w((()=>{i.handleLineArea("blockList",a,r)}))}})(),ve(fe);const je=p(),ge=e=>{fe.page=e,ve(fe)},_e=s();return(s,o)=>{const c=e,i=u("router-link"),p=a,m=d,b=t,w=l;return f(),h("div",A,[v("div",D,[v("div",C,[j(" blick info "),v("div",I,[v("div",B,[v("div",L,[v("div",N,[v("div",q,[T,v("span",null,g(s.$t("panel.block")),1),_(c,{class:"item",effect:"dark",content:s.$t("block.max"),placement:"bottom"},{default:k((()=>[X])),_:1},8,["content"])]),v("span",null,g(x(he).obj.block_id),1)]),v("div",F,[v("div",H,[K,v("span",null,g(s.$t("panel.highest")),1),_(c,{class:"item",effect:"dark",content:s.$t("block.current",{num:x(he).obj.max_tps_id}),placement:"bottom"},{default:k((()=>[O])),_:1},8,["content"])]),v("span",null,g(x(n)(x(he).obj.max_tps)),1)])]),v("div",P,[v("div",R,[v("div",S,[U,v("span",null,g(s.$t("panel.total")),1),_(c,{class:"item",effect:"dark",content:s.$t("block.total"),placement:"bottom"},{default:k((()=>[W])),_:1},8,["content"])]),v("span",null,g(x(he).obj.storage_capacitys),1)]),v("div",E,[v("div",G,[J,v("span",null,g(s.$t("panel.max")),1),_(c,{class:"item",effect:"dark",content:s.$t("block.capacity",{num:x(he).obj.max_block_size_id}),placement:"bottom"},{default:k((()=>[M])),_:1},8,["content"])]),v("span",null,g(x(he).obj.max_block_size),1)])])])])]),Q]),j(" block list "),v("div",V,[v("div",Y,[v("div",Z,[v("div",ee,[_(b,{data:x(he).arr,stripe:"",style:{width:"100%"}},{default:k((()=>[_(p,{label:s.$t("panel.blo")},{default:k((e=>[e.row.id?(f(),y(i,{key:0,to:{name:"BlockId",params:{id:e.row.id}}},{default:k((()=>[$(g(e.row.id),1)])),_:2},1032,["to"])):j("v-if",!0)])),_:1},8,["label"]),_(p,{label:s.$t("panel.generation")},{default:k((e=>[_(m,{time:e.row.time},null,8,["time"]),j("  <span>\r\n                    {{ handleSecondUTC(scope.row.time) }}\r\n                  </span> ")])),_:1},8,["label"]),_(p,{label:s.$t("panel.transactions")},{default:k((e=>[v("span",null,g(x(n)(e.row.tx)),1)])),_:1},8,["label"]),_(p,null,{header:k((()=>[v("div",ae,[v("span",te,g(s.$t("panel.gas")),1),_(c,{class:"item",effect:"dark",content:s.$t("panel.contain"),placement:"bottom"},{default:k((()=>[le])),_:1},8,["content"])])])),default:k((e=>[v("span",null,g(x(r)(e.row.gas_fee)),1),v("span",se,g(s.$t("page.symbol")),1)])),_:1}),_(p,{label:s.$t("panel.packaging")},{default:k((e=>[e.row.node_position?(f(),y(i,{key:0,to:{name:"HonorId",params:{id:e.row.node_position}},class:"panel-content-table-url"},{default:k((()=>[v("img",{src:`${x(je)}${e.row.icon_url}`,alt:"node"},null,8,ne),v("span",null,g(e.row.city),1),_(c,{class:"item",effect:"dark",content:e.row.api_address,placement:"bottom"},{default:k((()=>[oe])),_:2},1032,["content"])])),_:2},1032,["to"])):j("v-if",!0)])),_:1},8,["label"]),_(p,{label:s.$t("panel.rewardAddress"),"show-overflow-tooltip":""},{header:k((()=>[v("div",ce,[v("span",ie,g(s.$t("panel.rewardAddress")),1),_(c,{class:"item",effect:"dark",content:s.$t("panel.explosive"),placement:"bottom"},{default:k((()=>[re])),_:1},8,["content"])])])),default:k((e=>[e.row.recipient_id?(f(),y(i,{key:0,to:{name:"AccountAddress",params:{address:e.row.recipient_id}}},{default:k((()=>[v("span",null,g(e.row.recipient_id),1)])),_:2},1032,["to"])):j("v-if",!0)])),_:1},8,["label"]),_(p,null,{header:k((()=>[v("div",pe,[v("span",de,g(s.$t("panel.bonus")),1),_(c,{class:"item",effect:"dark",content:s.$t("panel.get"),placement:"bottom"},{default:k((()=>[me])),_:1},8,["content"])])])),default:k((e=>[v("span",null,g(x(r)(e.row.reward)),1),v("span",be,g(s.$t("page.symbol")),1)])),_:1})])),_:1},8,["data"])])]),v("div",ue,[_(w,{small:"",background:"","hide-on-single-page":"",layout:"prev, pager, next","pager-count":x(_e)?5:11,"current-page":Number(x(he).obj.page),"page-size":Number(x(he).obj.limit),total:Number(x(he).obj.total),onCurrentChange:ge},null,8,["pager-count","current-page","page-size","total"])])])])])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/chain/block/block.vue"]]);export{fe as default};
