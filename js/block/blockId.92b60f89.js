import{i as a,A as e,B as l,I as t}from"../element-plus/element-plus.9b08f88e.js";import"../vue/vue.0c557d7c.js";import{_ as n}from"../node/node.8b7398ea.js";import{u as s}from"../vue-router/vue-router.39fd13ca.js";import{h as i,i as c,j as o,k as r,a as d,g as p,e as b}from"../../assets/index.308fc099.js";import{_ as h}from"../vue-qr/vue-qr.8eb54fd4.js";import{e as u,X as m,w as v,W as f,c as k,a as j,T as g,K as _,u as y,O as x,P as $,R as w,o as z,$ as A}from"../@vue/@vue.1ef17de0.js";import{a as C}from"../axios/axios.3ae77db0.js";import"../@vueuse/@vueuse.323b0efa.js";import"../@element-plus/@element-plus.be983530.js";import"../dayjs/dayjs.7a5f879f.js";import"../@intlify/@intlify.d33e2919.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@ctrl/@ctrl.17547d95.js";import"../escape-html/escape-html.d572c0fd.js";import"../@popperjs/@popperjs.12a79995.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.7e9fb121.js";import"../vuex/vuex.81732143.js";import"../echarts/echarts.acca1833.js";import"../zrender/zrender.e63004cf.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.c19cb34c.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.cc585963.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const R={class:"chain"},I={key:0,class:"data-box"},N=j("img",{src:n,alt:"node"},null,-1),B={key:1,class:"chain"},q={class:"panel-content chain-content"},X={class:"panel-content-left panel-content-left-mobile"},H={class:"panel-content-chart"},K={class:"panel-content-chart-box"},O={class:"chain-line"},P={class:"panel-item-child-title"},S={class:"chain-line"},T={class:"chain-line"},V={class:"chain-content-detail-item-box-label"},W={class:"chain-line-time"},D={class:"chain-line-time-utc"},E={class:"chain-line"},F={class:"chain-line"},G={class:"chain-line"},J={class:"chain-line-img"},L=["src"],M={class:"chain-line"},Q={class:"chain-content-detail-item-box-label"},U={class:"chain-line-beyond"},Y={class:"panel-content-right"},Z={class:"panel-content-chart chain-content-right"},aa={class:"panel-content-chart-box chain-content-hash"},ea={class:"chain-content-detail"},la={class:"chain-content-detail-item"},ta={class:"chain-content-detail-item-box"},na={class:"chain-content-detail-item-box-label"},sa=j("div",{class:"chain-content-detail-item-box"},[j("i",{class:"iconfont el-a-blocksize"})],-1),ia={class:"chain-content-detail-item"},ca={class:"chain-content-detail-item-box"},oa=j("div",{class:"chain-content-detail-item-box"},[j("i",{class:"iconfont el-a-numberoftransactions"})],-1),ra={class:"chain-line-box"},da={class:"chain-line"},pa={class:"chain-content-detail-item-box-label"},ba={class:"chain-line-beyond",style:{"margin-left":"auto"}},ha={class:"chain-line chain-line-box-version"},ua={class:"chain-content"},ma={class:"panel-content-chart"},va={class:"panel-content-chart-box"},fa={class:"chain-line"},ka={class:"panel-item-child-title"},ja={class:"chain-line"},ga={class:"chain-content-detail-item-box-label"},_a={class:"chain-line-beyond"},ya={class:"chain-line"},xa={class:"chain-content-detail-item-box-label"},$a={class:"chain-line-beyond"},wa={class:"chain-line"},za={class:"chain-content-detail-item-box-label"},Aa={class:"chain-line-beyond"},Ca={class:"chain-line-content"},Ra={class:"panel-content-chart"},Ia={class:"panel-content-chart-box chain-content-table"},Na={class:"panel-content-table-title panel-item-child-title"},Ba={class:"panel-table"},qa={class:"panel-content-table"},Xa={class:"panel-content-table-page"};var Ha=h({setup(n){const h=u(""),Ha=s(),Ka=i(),Oa=u("");h.value=Number(Ha.params.id);const Pa={block_id:"",page:1,limit:10},Sa=m({data:{},header:{},obj:{page:1,limit:10},arr:[]}),Ta=async a=>{const e=await C.post("block_detail_tx_list",a);0===e.code&&e.data&&(Sa.arr=e.data.transactions,Sa.obj.page=e.data.page,Sa.obj.limit=e.data.limit,Sa.obj.total=e.data.total)};v((()=>{"BlockId"===Ha.name&&Ha.params.id&&(h.value=Number(Ha.params.id),Pa.block_id=h.value,(async a=>{const e=await C.get(`/block_detail/${a}`);0===e.code&&e.data?(Oa.value="",Sa.data=e.data,Sa.header=e.data.header):Oa.value=e.message})(h.value),Ta(Pa))}));const Va=a=>{Pa.page=a,Ta(Pa)},Wa=p();return(n,s)=>{const i=f("router-link"),p=a,h=e,u=l,m=t;return z(),k("div",R,[Oa.value?(z(),k("div",I,[N,j("div",null,g(Oa.value),1)])):(z(),k("div",B,[_(" block info  "),j("div",q,[j("div",X,[j("div",H,[j("div",K,[j("div",O,[j("span",P,g(n.$t("block.info")),1)]),j("div",S,[j("span",null,g(n.$t("panel.block"))+"：",1),j("span",null,g(y(Sa).header.block_id),1)]),j("div",T,[j("span",V,g(n.$t("panel.generation"))+"：",1),j("div",W,[j("span",null,g(y(c)(y(Sa).header.time)),1),j("span",D," ( "+g(y(o)(y(Sa).header.time))+" ) ",1)])]),j("div",E,[j("span",null,g(n.$t("block.account"))+"：",1),j("div",F,[y(Sa).header.key_id?(z(),x(i,{key:0,to:{name:"AccountAddress",params:{address:y(Sa).header.key_id}}},{default:$((()=>[j("span",null,g(y(Sa).header.key_id),1)])),_:1},8,["to"])):_("v-if",!0),j("i",{class:"iconfont el-Reproduction panel-content-table-symbol",onClick:s[0]||(s[0]=a=>y(r)(y(Sa).header.key_id))})])]),j("div",G,[j("span",null,g(n.$t("panel.packaging"))+"：",1),j("div",J,[j("span",null,g(y(Sa).header.address),1),j("img",{src:`${y(Wa)}${y(Sa).header.icon_url}`,alt:""},null,8,L)])]),j("div",M,[j("span",Q,g(n.$t("block.last"))+"：",1),w(p,{effect:"dark",content:y(Sa).header.prehash,placement:"bottom"},{default:$((()=>[j("span",U,g(y(Sa).header.prehash),1)])),_:1},8,["content"])])])])]),_(" block info "),j("div",Y,[j("div",Z,[j("div",aa,[j("div",ea,[j("div",la,[j("div",ta,[j("span",na,g(n.$t("panel.size")),1),j("span",null,g(y(Sa).data.blocksize),1)]),sa]),j("div",ia,[j("div",ca,[j("span",null,g(n.$t("block.trans")),1),j("span",null,g(y(d)(String(y(Sa).data.tx_count)))+" "+g(n.$t("block.strip")),1)]),oa])]),j("div",ra,[j("div",da,[j("span",pa,g(n.$t("block.sign"))+"：",1),w(p,{effect:"dark",content:y(Sa).header.sign,placement:"bottom"},{default:$((()=>[j("span",ba,g(y(Sa).header.sign),1)])),_:1},8,["content"])]),j("div",ha,[j("span",null,g(n.$t("block.version"))+"：",1),j("span",null,g(y(Sa).header.version),1)])])])])])]),_(" block content  "),j("div",ua,[j("div",ma,[j("div",va,[j("div",fa,[j("span",ka,g(n.$t("block.content")),1)]),j("div",ja,[j("span",ga,g(n.$t("block.value"))+"：",1),j("span",_a,g(y(Sa).data.hash),1),j("i",{class:"iconfont el-Reproduction",onClick:s[1]||(s[1]=a=>y(r)(y(Sa).data.hash))})]),j("div",ya,[j("span",xa,g(n.$t("block.roll"))+"：",1),j("span",$a,g(y(Sa).data.rollbacks_hash),1),j("i",{class:"iconfont el-Reproduction",onClick:s[2]||(s[2]=a=>y(r)(y(Sa).data.rollbacks_hash))})]),j("div",wa,[j("span",za,g(n.$t("block.merkel"))+"：",1),w(p,{effect:"dark",content:y(Sa).data.mrkl_root,placement:"bottom"},{default:$((()=>[j("span",Aa,g(y(Sa).data.mrkl_root),1)])),_:1},8,["content"]),j("i",{class:"iconfont el-Reproduction",onClick:s[3]||(s[3]=a=>y(r)(y(Sa).data.mrkl_root))})]),j("div",Ca,[j("div",null,[j("span",null,g(n.$t("block.trans"))+"：",1),j("span",null,g(y(Sa).data.tx_count),1)]),j("div",null,[j("span",null,g(n.$t("panel.size"))+"：",1),j("span",null,g(y(Sa).data.blocksize),1)]),j("div",null,[j("span",null,g(n.$t("block.hash"))+"：",1),j("span",null,g(y(Sa).data.trantotalsize),1)])])])])]),_(" block details list "),j("div",Ra,[j("div",Ia,[j("div",Na,g(n.$t("block.affair")),1),j("div",Ba,[j("div",qa,[w(u,{data:y(Sa).arr,stripe:"",style:{width:"100%"},"show-header":!1},{default:$((()=>[w(h,{label:n.$t("panel.thash"),"show-overflow-tooltip":""},{default:$((a=>[w(i,{to:{name:"HashValue",params:{value:a.row.hash}}},{default:$((()=>[A(g(a.row.hash),1)])),_:2},1032,["to"])])),_:1},8,["label"]),w(h,{label:n.$t("panel.transactions")},{default:$((a=>[j("span",null,g(a.row.contract_name),1)])),_:1},8,["label"]),w(h,{label:n.$t("panel.generation")},{default:$((a=>[j("span",null,g(y(b)(a.row.time)),1)])),_:1},8,["label"]),w(h,{label:n.$t("panel.rewardAddress")},{default:$((a=>[a.row.key_id?(z(),x(i,{key:0,to:{name:"AccountAddress",params:{address:a.row.key_id}}},{default:$((()=>[j("span",null,g(a.row.key_id),1)])),_:2},1032,["to"])):_("v-if",!0)])),_:1},8,["label"]),w(h,null,{default:$((a=>[j("span",null,g(a.row.size),1)])),_:1}),w(h,null,{default:$((a=>[j("span",null,g(a.row.ecosystemname),1)])),_:1})])),_:1},8,["data"])])]),j("div",Xa,[w(m,{small:"",background:"","hide-on-single-page":"","pager-count":y(Ka)?5:11,layout:"prev, pager, next","current-page":Number(y(Sa).obj.page),"page-size":y(Sa).obj.limit,total:Number(y(Sa).obj.total),onCurrentChange:Va},null,8,["pager-count","current-page","page-size","total"])])])])]))])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/chain/block/blockId.vue"]]);export{Ha as default};
