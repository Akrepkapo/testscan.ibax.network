import{j as e,L as a}from"../element-plus/element-plus.ec3bfd4a.js";import"../vue/vue.35a5c883.js";import{_ as t}from"../node/node.8b7398ea.js";import{b as n,i as s,j as i,a as l,l as o}from"../../assets/index.79f7bd69.js";import{u as c}from"../vue-router/vue-router.62720988.js";import{_ as d}from"../vue-qr/vue-qr.0ca12301.js";import{t as r,e as m,X as p,w as v,W as u,o as g,c as b,u as h,a as j,T as f,K as y,O as x,P as _,R as k,$ as w,L as A,a2 as C}from"../@vue/@vue.077a65af.js";import"../@vueuse/@vueuse.57a4e826.js";import"../@element-plus/@element-plus.19eacc1c.js";import"../dayjs/dayjs.7a5f879f.js";import"../@intlify/@intlify.d33e2919.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@ctrl/@ctrl.17547d95.js";import"../escape-html/escape-html.d572c0fd.js";import"../@popperjs/@popperjs.12a79995.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.e0b6e81d.js";import"../vuex/vuex.389a1fed.js";import"../axios/axios.3ae77db0.js";import"../echarts/echarts.cc448593.js";import"../zrender/zrender.a8917a70.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.4fe9f180.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.32907f0d.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const T={class:"node-vote"},$={key:0,class:"data-box"},z=j("img",{src:t,alt:"node"},null,-1),S={key:1,class:"node-vote"},q={class:"node-vote-title panel-item-child-title"},D={class:"node-manage"},M={key:0,class:"node-manage-box"},P={class:"panel-content-chart"},I={class:"panel-content-chart-box"},L=j("div",{class:"node-manage-item"},"voting",-1),N={class:"node-manage-item"},O=j("span",{class:"chain-content-detail-item-box-label"},"Type",-1),R={class:"node-manage-item"},V=j("span",{class:"chain-content-detail-item-box-label"},"Status",-1),X={class:"node-manage-item"},B=j("span",{class:"chain-content-detail-item-box-label"},"Vote count type",-1),F={class:"node-manage-item"},J=j("span",{class:"chain-content-detail-item-box-label"},"Rating",-1),K={class:"node-manage-item"},Q=j("span",{class:"chain-content-detail-item-box-label"},"Filled",-1),W={class:"node-manage-item"},E=j("span",{class:"chain-content-detail-item-box-label"},"Decision",-1),G={class:"node-manage-item"},H=j("span",{class:"chain-content-detail-item-box-label"},"Date start",-1),U={class:"chain-account-item-symbol"},Y={class:"node-manage-item"},Z=j("span",{class:"chain-content-detail-item-box-label"},"Date end",-1),ee={class:"chain-account-item-symbol"},ae={class:"node-manage-item"},te=j("span",{class:"chain-content-detail-item-box-label"},"Quorum",-1),ne={key:0},se={class:"node-manage-item"},ie=j("span",{class:"chain-content-detail-item-box-label"},"Volume",-1),le={class:"node-manage-item"},oe=j("span",null,"Participants",-1),ce={class:"node-manage-item"},de=j("span",{class:"chain-content-detail-item-box-label"},"Creator",-1),re={class:"node-manage-item node-manage-item-member"},me=j("span",{class:"chain-content-detail-item-box-label"},"Member",-1),pe={class:"node-manage-item-member-link"},ve={class:"node-manage-right"},ue={class:"panel-content-chart"},ge={class:"panel-content-chart-box"},be={class:"node-manage-item"},he={class:"node-manage-item"},je=j("span",{class:"chain-content-detail-item-box-label"},"Contract_acce",-1),fe={class:"node-manage-item"},ye=j("span",{class:"chain-content-detail-item-box-label"},"Arguments",-1),xe={class:"chain-json"},_e={class:"node-manage-item"},ke=j("span",null,"Contract_reject",-1),we={class:"node-manage-item"},Ae=j("span",null,"Type decision",-1),Ce={class:"node-manage-ring"},Te={class:"node-manage-ring-item"},$e={class:"node-manage-ring-item-title"},ze={class:"chain-account-item-symbol"},Se={class:"node-manage-ring-item-content"},qe={class:"node-manage-ring-item"},De={class:"node-manage-ring-item-title"},Me={class:"chain-account-item-symbol"},Pe={class:"node-manage-ring-item-content"},Ie={class:"node-manage-ring-item"},Le={class:"node-manage-ring-item-title"},Ne={class:"chain-account-item-symbol"},Oe={class:"node-manage-ring-item-content"},Re={class:"node-manage-ring-item"},Ve=j("div",{class:"node-manage-ring-item-title"},"Progress",-1),Xe={class:"node-manage-ring-item-content"};var Be=d({setup(t){const d=c(),Be=r("axios"),Fe=m(""),Je=p({data:null,voting:null}),Ke=p({copyText:n("block.copy"),copiedText:n("block.copied"),timeout:2e3}),Qe=m(1),We={search:1,language:"en"};return v((()=>{if(d.params.id){Qe.value=d.params.id;const e=localStorage.getItem("lang");e&&(We.language=e),We.search=Number(Qe.value),(async e=>{const a=await Be.post("dao_vote_detail",e);0===a.code?(Je.data=a.data,Je.voting=a.data.voting,Je.subject=a.data.voting_subject):Fe.value=a.message})(We)}})),(t,n)=>{const c=u("router-link"),d=e,r=u("json-viewer"),m=a;return g(),b("div",T,[h(Je).data?(g(),b("div",S,[j("div",q,f(t.$t("node.detailManage")),1),j("div",D,[h(Je).voting?(g(),b("div",M,[j("div",P,[j("div",I,[L,j("div",N,[O,j("span",null,f(h(Je).voting.type),1)]),j("div",R,[V,j("span",null,f(h(Je).voting.status),1)]),j("div",X,[B,j("span",null,f(h(Je).voting.vote_count_type),1)]),j("div",F,[J,j("span",null,f(h(Je).voting.vote_count_type),1)]),j("div",K,[Q,j("span",null,f(h(Je).voting.filled),1)]),j("div",W,[E,j("span",null,f(h(Je).voting.decision),1)]),j("div",G,[H,j("div",null,[j("span",null,f(h(s)(h(Je).voting.date_start)),1),j("span",U,"("+f(h(i)(h(Je).voting.date_start))+")",1)])]),j("div",Y,[Z,j("div",null,[j("span",null,f(h(s)(h(Je).voting.date_end)),1),j("span",ee,"("+f(h(i)(h(Je).voting.date_end))+")",1)])]),j("div",ae,[te,j("div",null,[j("span",null,f(h(Je).voting.quorum),1),1!==h(Je).voting.count_type_voters?(g(),b("span",ne,"%")):y("v-if",!0)])]),j("div",se,[ie,j("span",null,f(h(Je).voting.volume)+"%",1)]),j("div",le,[oe,j("span",null,f(h(l)(String(h(Je).voting.participants))),1)]),j("div",ce,[de,h(Je).voting.creator?(g(),x(c,{key:0,to:{name:"AccountAddress",params:{address:h(Je).voting.creator}}},{default:_((()=>[j("span",null,f(h(Je).voting.creator),1)])),_:1},8,["to"])):y("v-if",!0)]),j("div",re,[me,k(d,{"max-height":"200px"},{default:_((()=>[j("div",pe,[(g(!0),b(A,null,C(h(Je).voting.member,((e,a)=>(g(),x(c,{key:a,to:{name:"AccountAddress",params:{address:e}}},{default:_((()=>[j("span",null,f(e),1),y('  <span\r\n                      v-if="index !== dao.voting.member.length - 1"\r\n                      class="chain-account-item-symbol"\r\n                      >,</span\r\n                    > ')])),_:2},1032,["to"])))),128))])])),_:1})])])])])):y("v-if",!0),j("div",ve,[j("div",ue,[j("div",ge,[j("div",be,f(h(Je).data.title),1),j("div",he,[je,j("span",null,f(h(Je).subject.contract_accept),1)]),j("div",fe,[ye,j("div",xe,[k(d,{"max-height":"400px"},{default:_((()=>[k(r,{value:""===h(Je).subject.arguments?"":JSON.parse(h(Je).subject.arguments),"expand-depth":5,copyable:h(Ke),boxed:"",sort:"",onCopied:h(o)},null,8,["value","copyable","onCopied"])])),_:1})])]),j("div",_e,[ke,j("span",null,f(h(Je).subject.contract_of_reject),1)]),j("div",we,[Ae,j("span",null,f(h(Je).data.type_decision),1)])])]),j("div",Ce,[j("div",Te,[j("div",$e,[j("span",null,f(t.$t("panel.voting")),1),j("span",ze,"("+f(h(Je).data.agree+h(Je).data.rejected)+")",1)]),j("div",Se,[k(m,{type:"circle",percentage:h(Je).data.voted_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",qe,[j("div",De,[w(f(t.$t("panel.pass"))+" ",1),j("span",Me,"("+f(h(Je).data.agree)+")",1)]),j("div",Pe,[k(m,{type:"circle",percentage:h(Je).data.result_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",Ie,[j("div",Le,[w(f(t.$t("panel.reject"))+" ",1),j("span",Ne,"("+f(h(Je).data.rejected)+")",1)]),j("div",Oe,[k(m,{type:"circle",percentage:h(Je).data.rejected_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",Re,[Ve,j("div",Xe,[k(m,{type:"circle",percentage:h(Je).data.progress,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])])])])])])):(g(),b("div",$,[z,j("div",null,f(Fe.value),1)]))])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/node/honor/honorManage.vue"]]);export{Be as default};
