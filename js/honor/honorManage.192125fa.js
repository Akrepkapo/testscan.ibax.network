import{j as e,L as a}from"../element-plus/element-plus.ec3bfd4a.js";import"../vue/vue.35a5c883.js";import{_ as t}from"../node/node.8b7398ea.js";import{b as n,g as s,i,a as l,l as o}from"../../assets/index.90d7384f.js";import{u as c}from"../vue-router/vue-router.62720988.js";import{_ as d}from"../vue-qr/vue-qr.0ca12301.js";import{t as r,e as m,X as p,w as v,W as u,o as g,c as b,u as h,a as j,T as f,K as y,O as x,P as _,R as k,$ as w,L as A,a2 as C}from"../@vue/@vue.077a65af.js";import"../@vueuse/@vueuse.57a4e826.js";import"../@element-plus/@element-plus.19eacc1c.js";import"../dayjs/dayjs.7a5f879f.js";import"../@intlify/@intlify.d33e2919.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@ctrl/@ctrl.17547d95.js";import"../escape-html/escape-html.d572c0fd.js";import"../@popperjs/@popperjs.12a79995.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.e0b6e81d.js";import"../vuex/vuex.389a1fed.js";import"../axios/axios.3ae77db0.js";import"../echarts/echarts.acca1833.js";import"../zrender/zrender.e63004cf.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.c19cb34c.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.32907f0d.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const T={class:"node-vote"},$={key:0,class:"data-box"},z=j("img",{src:t,alt:"node"},null,-1),S={key:1,class:"node-vote"},q={class:"node-vote-title panel-item-child-title"},D={class:"node-manage"},M={key:0,class:"node-manage-box"},P={class:"panel-content-chart"},I={class:"panel-content-chart-box"},L=j("div",{class:"node-manage-item"},"voting",-1),N={class:"node-manage-item"},O=j("span",{class:"chain-content-detail-item-box-label"},"Type",-1),R={class:"node-manage-item"},V=j("span",{class:"chain-content-detail-item-box-label"},"Status",-1),X={class:"node-manage-item"},B=j("span",{class:"chain-content-detail-item-box-label"},"Vote count type",-1),F={class:"node-manage-item"},J=j("span",{class:"chain-content-detail-item-box-label"},"Filled",-1),K={class:"node-manage-item"},Q=j("span",{class:"chain-content-detail-item-box-label"},"Decision",-1),W={class:"node-manage-item"},E=j("span",{class:"chain-content-detail-item-box-label"},"Date start",-1),G={class:"chain-account-item-symbol"},H={class:"node-manage-item"},U=j("span",{class:"chain-content-detail-item-box-label"},"Date end",-1),Y={class:"chain-account-item-symbol"},Z={class:"node-manage-item"},ee=j("span",{class:"chain-content-detail-item-box-label"},"Quorum",-1),ae={key:0},te={class:"node-manage-item"},ne=j("span",{class:"chain-content-detail-item-box-label"},"Volume",-1),se={class:"node-manage-item"},ie=j("span",null,"Participants",-1),le={class:"node-manage-item"},oe=j("span",{class:"chain-content-detail-item-box-label"},"Creator",-1),ce={class:"node-manage-item node-manage-item-member"},de=j("span",{class:"chain-content-detail-item-box-label"},"Member",-1),re={class:"node-manage-item-member-link"},me={class:"node-manage-right"},pe={class:"panel-content-chart"},ve={class:"panel-content-chart-box"},ue={class:"node-manage-item"},ge={class:"node-manage-item"},be=j("span",{class:"chain-content-detail-item-box-label"},"Contract_acce",-1),he={class:"node-manage-item"},je=j("span",{class:"chain-content-detail-item-box-label"},"Arguments",-1),fe={class:"chain-json"},ye={class:"node-manage-item"},xe=j("span",null,"Contract_reject",-1),_e={class:"node-manage-item"},ke=j("span",null,"Type decision",-1),we={class:"node-manage-ring"},Ae={class:"node-manage-ring-item"},Ce={class:"node-manage-ring-item-title"},Te={class:"chain-account-item-symbol"},$e={class:"node-manage-ring-item-content"},ze={class:"node-manage-ring-item"},Se={class:"node-manage-ring-item-title"},qe={class:"chain-account-item-symbol"},De={class:"node-manage-ring-item-content"},Me={class:"node-manage-ring-item"},Pe={class:"node-manage-ring-item-title"},Ie={class:"chain-account-item-symbol"},Le={class:"node-manage-ring-item-content"},Ne={class:"node-manage-ring-item"},Oe=j("div",{class:"node-manage-ring-item-title"},"Progress",-1),Re={class:"node-manage-ring-item-content"};var Ve=d({setup(t){const d=c(),Ve=r("axios"),Xe=m(""),Be=p({data:null,voting:null}),Fe=p({copyText:n("block.copy"),copiedText:n("block.copied"),timeout:2e3}),Je=m(1),Ke={search:1,language:"en"};return v((()=>{if(d.params.id){Je.value=d.params.id;const e=localStorage.getItem("lang");e&&(Ke.language=e),Ke.search=Number(Je.value),(async e=>{const a=await Ve.post("dao_vote_detail",e);0===a.code?(Be.data=a.data,Be.voting=a.data.voting,Be.subject=a.data.voting_subject):Xe.value=a.message})(Ke)}})),(t,n)=>{const c=u("router-link"),d=e,r=u("json-viewer"),m=a;return g(),b("div",T,[h(Be).data?(g(),b("div",S,[j("div",q,f(t.$t("node.detailManage")),1),j("div",D,[h(Be).voting?(g(),b("div",M,[j("div",P,[j("div",I,[L,j("div",N,[O,j("span",null,f(h(Be).voting.type),1)]),j("div",R,[V,j("span",null,f(h(Be).voting.status),1)]),j("div",X,[B,j("span",null,f(h(Be).voting.vote_count_type),1)]),y('  <div class="node-manage-item">\r\n                <span class="chain-content-detail-item-box-label">Rating</span>\r\n                <span>{{ dao.voting.vote_count_type }}</span>\r\n              </div> '),j("div",F,[J,j("span",null,f(h(Be).voting.filled),1)]),j("div",K,[Q,j("span",null,f(h(Be).voting.decision),1)]),j("div",W,[E,j("div",null,[j("span",null,f(h(s)(h(Be).voting.date_start)),1),j("span",G,"("+f(h(i)(h(Be).voting.date_start))+")",1)])]),j("div",H,[U,j("div",null,[j("span",null,f(h(s)(h(Be).voting.date_end)),1),j("span",Y,"("+f(h(i)(h(Be).voting.date_end))+")",1)])]),j("div",Z,[ee,j("div",null,[j("span",null,f(h(Be).voting.quorum),1),1!==h(Be).voting.count_type_voters?(g(),b("span",ae,"%")):y("v-if",!0)])]),j("div",te,[ne,j("span",null,f(h(Be).voting.volume)+"%",1)]),j("div",se,[ie,j("span",null,f(h(l)(String(h(Be).voting.participants))),1)]),j("div",le,[oe,h(Be).voting.creator?(g(),x(c,{key:0,to:{name:"AccountAddress",params:{address:h(Be).voting.creator}}},{default:_((()=>[j("span",null,f(h(Be).voting.creator),1)])),_:1},8,["to"])):y("v-if",!0)]),j("div",ce,[de,k(d,{"max-height":"200px"},{default:_((()=>[j("div",re,[(g(!0),b(A,null,C(h(Be).voting.member,((e,a)=>(g(),x(c,{key:a,to:{name:"AccountAddress",params:{address:e}}},{default:_((()=>[j("span",null,f(e),1),y('  <span\r\n                      v-if="index !== dao.voting.member.length - 1"\r\n                      class="chain-account-item-symbol"\r\n                      >,</span\r\n                    > ')])),_:2},1032,["to"])))),128))])])),_:1})])])])])):y("v-if",!0),j("div",me,[j("div",pe,[j("div",ve,[j("div",ue,f(h(Be).data.title),1),j("div",ge,[be,j("span",null,f(h(Be).subject.contract_accept),1)]),j("div",he,[je,j("div",fe,[k(d,{"max-height":"400px"},{default:_((()=>[k(r,{value:""===h(Be).subject.arguments?"":JSON.parse(h(Be).subject.arguments),"expand-depth":5,copyable:h(Fe),boxed:"",sort:"",onCopied:h(o)},null,8,["value","copyable","onCopied"])])),_:1})])]),j("div",ye,[xe,j("span",null,f(h(Be).subject.contract_of_reject),1)]),j("div",_e,[ke,j("span",null,f(h(Be).data.type_decision),1)])])]),j("div",we,[j("div",Ae,[j("div",Ce,[j("span",null,f(t.$t("panel.voting")),1),j("span",Te,"("+f(h(Be).data.agree+h(Be).data.rejected)+")",1)]),j("div",$e,[k(m,{type:"circle",percentage:h(Be).data.voted_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",ze,[j("div",Se,[w(f(t.$t("panel.pass"))+" ",1),j("span",qe,"("+f(h(Be).data.agree)+")",1)]),j("div",De,[k(m,{type:"circle",percentage:h(Be).data.result_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",Me,[j("div",Pe,[w(f(t.$t("panel.reject"))+" ",1),j("span",Ie,"("+f(h(Be).data.rejected)+")",1)]),j("div",Le,[k(m,{type:"circle",percentage:h(Be).data.rejected_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",Ne,[Oe,j("div",Re,[k(m,{type:"circle",percentage:h(Be).data.progress,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])])])])])])):(g(),b("div",$,[z,j("div",null,f(Xe.value),1)]))])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/node/honor/honorManage.vue"]]);export{Ve as default};
