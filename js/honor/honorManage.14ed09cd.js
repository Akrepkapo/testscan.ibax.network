import{j as e,L as a}from"../element-plus/element-plus.9b08f88e.js";import"../vue/vue.0c557d7c.js";import{_ as t}from"../node/node.8b7398ea.js";import{b as n,i as s,j as i,a as l,l as o}from"../../assets/index.308fc099.js";import{u as c}from"../vue-router/vue-router.39fd13ca.js";import{_ as d}from"../vue-qr/vue-qr.8eb54fd4.js";import{t as r,e as m,X as p,w as v,W as u,c as g,u as b,a as h,T as j,K as f,O as y,P as x,R as _,$ as k,o as w,L as A,a2 as C}from"../@vue/@vue.1ef17de0.js";import"../@vueuse/@vueuse.323b0efa.js";import"../@element-plus/@element-plus.be983530.js";import"../dayjs/dayjs.7a5f879f.js";import"../@intlify/@intlify.d33e2919.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@ctrl/@ctrl.17547d95.js";import"../escape-html/escape-html.d572c0fd.js";import"../@popperjs/@popperjs.12a79995.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.7e9fb121.js";import"../vuex/vuex.81732143.js";import"../axios/axios.3ae77db0.js";import"../echarts/echarts.acca1833.js";import"../zrender/zrender.e63004cf.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.c19cb34c.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.cc585963.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const T={class:"node-vote"},$={key:0,class:"data-box"},z=h("img",{src:t,alt:"node"},null,-1),S={key:1,class:"node-vote"},q={class:"node-vote-title panel-item-child-title"},D={class:"node-manage"},M={key:0,class:"node-manage-box"},P={class:"panel-content-chart"},I={class:"panel-content-chart-box"},L=h("div",{class:"node-manage-item"},"voting",-1),N={class:"node-manage-item"},O=h("span",{class:"chain-content-detail-item-box-label"},"Type",-1),R={class:"node-manage-item"},V=h("span",{class:"chain-content-detail-item-box-label"},"Status",-1),X={class:"node-manage-item"},B=h("span",{class:"chain-content-detail-item-box-label"},"Vote count type",-1),F={class:"node-manage-item"},J=h("span",{class:"chain-content-detail-item-box-label"},"Rating",-1),K={class:"node-manage-item"},Q=h("span",{class:"chain-content-detail-item-box-label"},"Filled",-1),W={class:"node-manage-item"},E=h("span",{class:"chain-content-detail-item-box-label"},"Decision",-1),G={class:"node-manage-item"},H=h("span",{class:"chain-content-detail-item-box-label"},"Date start",-1),U={class:"chain-account-item-symbol"},Y={class:"node-manage-item"},Z=h("span",{class:"chain-content-detail-item-box-label"},"Date end",-1),ee={class:"chain-account-item-symbol"},ae={class:"node-manage-item"},te=h("span",{class:"chain-content-detail-item-box-label"},"Quorum",-1),ne={key:0},se={class:"node-manage-item"},ie=h("span",{class:"chain-content-detail-item-box-label"},"Volume",-1),le={class:"node-manage-item"},oe=h("span",null,"Participants",-1),ce={class:"node-manage-item"},de=h("span",{class:"chain-content-detail-item-box-label"},"Creator",-1),re={class:"node-manage-item node-manage-item-member"},me=h("span",{class:"chain-content-detail-item-box-label"},"Member",-1),pe={class:"node-manage-item-member-link"},ve={class:"node-manage-right"},ue={class:"panel-content-chart"},ge={class:"panel-content-chart-box"},be={class:"node-manage-item"},he={class:"node-manage-item"},je=h("span",{class:"chain-content-detail-item-box-label"},"Contract_acce",-1),fe={class:"node-manage-item"},ye=h("span",{class:"chain-content-detail-item-box-label"},"Arguments",-1),xe={class:"chain-json"},_e={class:"node-manage-item"},ke=h("span",null,"Contract_reject",-1),we={class:"node-manage-item"},Ae=h("span",null,"Type decision",-1),Ce={class:"node-manage-ring"},Te={class:"node-manage-ring-item"},$e={class:"node-manage-ring-item-title"},ze={class:"chain-account-item-symbol"},Se={class:"node-manage-ring-item-content"},qe={class:"node-manage-ring-item"},De={class:"node-manage-ring-item-title"},Me={class:"chain-account-item-symbol"},Pe={class:"node-manage-ring-item-content"},Ie={class:"node-manage-ring-item"},Le={class:"node-manage-ring-item-title"},Ne={class:"chain-account-item-symbol"},Oe={class:"node-manage-ring-item-content"},Re={class:"node-manage-ring-item"},Ve=h("div",{class:"node-manage-ring-item-title"},"Progress",-1),Xe={class:"node-manage-ring-item-content"};var Be=d({setup(t){const d=c(),Be=r("axios"),Fe=m(""),Je=p({data:null,voting:null}),Ke=p({copyText:n("block.copy"),copiedText:n("block.copied"),timeout:2e3}),Qe=m(1),We={search:1,language:"en"};return v((()=>{if(d.params.id){Qe.value=d.params.id;const e=localStorage.getItem("lang");e&&(We.language=e),We.search=Number(Qe.value),(async e=>{const a=await Be.post("dao_vote_detail",e);0===a.code?(Je.data=a.data,Je.voting=a.data.voting,Je.subject=a.data.voting_subject):Fe.value=a.message})(We)}})),(t,n)=>{const c=u("router-link"),d=e,r=u("json-viewer"),m=a;return w(),g("div",T,[b(Je).data?(w(),g("div",S,[h("div",q,j(t.$t("node.detailManage")),1),h("div",D,[b(Je).voting?(w(),g("div",M,[h("div",P,[h("div",I,[L,h("div",N,[O,h("span",null,j(b(Je).voting.type),1)]),h("div",R,[V,h("span",null,j(b(Je).voting.status),1)]),h("div",X,[B,h("span",null,j(b(Je).voting.vote_count_type),1)]),h("div",F,[J,h("span",null,j(b(Je).voting.vote_count_type),1)]),h("div",K,[Q,h("span",null,j(b(Je).voting.filled),1)]),h("div",W,[E,h("span",null,j(b(Je).voting.decision),1)]),h("div",G,[H,h("div",null,[h("span",null,j(b(s)(b(Je).voting.date_start)),1),h("span",U,"("+j(b(i)(b(Je).voting.date_start))+")",1)])]),h("div",Y,[Z,h("div",null,[h("span",null,j(b(s)(b(Je).voting.date_end)),1),h("span",ee,"("+j(b(i)(b(Je).voting.date_end))+")",1)])]),h("div",ae,[te,h("div",null,[h("span",null,j(b(Je).voting.quorum),1),1!==b(Je).voting.count_type_voters?(w(),g("span",ne,"%")):f("v-if",!0)])]),h("div",se,[ie,h("span",null,j(b(Je).voting.volume)+"%",1)]),h("div",le,[oe,h("span",null,j(b(l)(String(b(Je).voting.participants))),1)]),h("div",ce,[de,b(Je).voting.creator?(w(),y(c,{key:0,to:{name:"AccountAddress",params:{address:b(Je).voting.creator}}},{default:x((()=>[h("span",null,j(b(Je).voting.creator),1)])),_:1},8,["to"])):f("v-if",!0)]),h("div",re,[me,_(d,{"max-height":"200px"},{default:x((()=>[h("div",pe,[(w(!0),g(A,null,C(b(Je).voting.member,((e,a)=>(w(),y(c,{key:a,to:{name:"AccountAddress",params:{address:e}}},{default:x((()=>[h("span",null,j(e),1),f('  <span\r\n                      v-if="index !== dao.voting.member.length - 1"\r\n                      class="chain-account-item-symbol"\r\n                      >,</span\r\n                    > ')])),_:2},1032,["to"])))),128))])])),_:1})])])])])):f("v-if",!0),h("div",ve,[h("div",ue,[h("div",ge,[h("div",be,j(b(Je).data.title),1),h("div",he,[je,h("span",null,j(b(Je).subject.contract_accept),1)]),h("div",fe,[ye,h("div",xe,[_(d,{"max-height":"400px"},{default:x((()=>[_(r,{value:""===b(Je).subject.arguments?"":JSON.parse(b(Je).subject.arguments),"expand-depth":5,copyable:b(Ke),boxed:"",sort:"",onCopied:b(o)},null,8,["value","copyable","onCopied"])])),_:1})])]),h("div",_e,[ke,h("span",null,j(b(Je).subject.contract_of_reject),1)]),h("div",we,[Ae,h("span",null,j(b(Je).data.type_decision),1)])])]),h("div",Ce,[h("div",Te,[h("div",$e,[h("span",null,j(t.$t("panel.voting")),1),h("span",ze,"("+j(b(Je).data.agree+b(Je).data.rejected)+")",1)]),h("div",Se,[_(m,{type:"circle",percentage:b(Je).data.voted_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),h("div",qe,[h("div",De,[k(j(t.$t("panel.pass"))+" ",1),h("span",Me,"("+j(b(Je).data.agree)+")",1)]),h("div",Pe,[_(m,{type:"circle",percentage:b(Je).data.result_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),h("div",Ie,[h("div",Le,[k(j(t.$t("panel.reject"))+" ",1),h("span",Ne,"("+j(b(Je).data.rejected)+")",1)]),h("div",Oe,[_(m,{type:"circle",percentage:b(Je).data.rejected_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),h("div",Re,[Ve,h("div",Xe,[_(m,{type:"circle",percentage:b(Je).data.progress,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])])])])])])):(w(),g("div",$,[z,h("div",null,j(Fe.value),1)]))])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/node/honor/honorManage.vue"]]);export{Be as default};
