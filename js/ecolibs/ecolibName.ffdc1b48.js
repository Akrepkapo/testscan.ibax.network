import{A as e,B as a,I as s}from"../element-plus/element-plus.ec3bfd4a.js";import"../vue/vue.35a5c883.js";import{u as t,a as o}from"../vue-router/vue-router.62720988.js";import{D as r}from"../DialogEcolib/DialogEcolib.384ae13e.js";import{v as i}from"../../assets/index.1ca5cbe4.js";import{_ as l}from"../vue-qr/vue-qr.0ca12301.js";import{t as c,e as p,X as m,q as n,w as u,o as d,c as b,a as j,R as v,u as h,P as f,L as g,a2 as y,O as w,T as _}from"../@vue/@vue.077a65af.js";import"../@vueuse/@vueuse.57a4e826.js";import"../@element-plus/@element-plus.19eacc1c.js";import"../dayjs/dayjs.7a5f879f.js";import"../@intlify/@intlify.d33e2919.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@ctrl/@ctrl.17547d95.js";import"../escape-html/escape-html.d572c0fd.js";import"../@popperjs/@popperjs.12a79995.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.e0b6e81d.js";import"../vuex/vuex.389a1fed.js";import"../axios/axios.3ae77db0.js";import"../echarts/echarts.cc448593.js";import"../zrender/zrender.a8917a70.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.4fe9f180.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.32907f0d.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const x={class:"ecolib chain"},q={class:"panel-content-chart"},z={class:"panel-content-chart-box chain-content-table"},N={class:"panel-content-table"},C={href:"javascript:;"},O={class:"panel-content-table-page"};var E=l({setup(l){const E=c("axios"),P=t(),k=o(),D=p(!1),A=p(""),B=m({header:[],data:[],page:1,limit:10,row:{}}),I=p(1),R={ecosystem:1,type:2,search:""},X={ecosystem:1,type:3,page:1,limit:10,search:"",order:"id desc"};n((()=>i.getters.handlePostEcolibName));const L=async e=>{const a=await E.post("get_eco_database",e);0===a.code&&(B.data=a.data.list,B.page=a.data.page,B.limit=a.data.limit,B.total=a.data.total)};u((()=>{const e=Object.prototype.hasOwnProperty.call(P.query,"name"),a=Object.prototype.hasOwnProperty.call(P.query,"ecosystem");e&&a?(X.search=R.search=A.value=P.query.name,X.ecosystem=R.ecosystem=I.value=Number(P.query.ecosystem),(async e=>{const a=await E.post("get_eco_database",e);0===a.code&&(B.header=a.data.list,X.order=`${a.data.list[0].column_name} desc`,L(X))})(R)):k.push({name:"Ecolibs"})}));const T=e=>{X.page=e,L(X)},$=()=>{D.value=!1;B.row={}},F=e=>{B.row=e,D.value=!0};return(t,o)=>{const i=e,l=a,c=s;return d(),b("div",x,[j("div",q,[j("div",z,[j("div",N,[v(l,{style:{width:"100%"},stripe:"",data:h(B).data,onRowClick:F},{default:f((()=>[(d(!0),b(g,null,y(h(B).header,(e=>(d(),w(i,{key:e.column_name,"show-overflow-tooltip":"",prop:e.column_name,label:e.column_name},{default:f((a=>[j("a",C,[j("span",null,_(a.row[e.column_name]),1)])])),_:2},1032,["prop","label"])))),128))])),_:1},8,["data"]),j("div",O,[v(c,{small:"",background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":Number(h(B).page),"page-size":Number(h(B).limit),total:Number(h(B).total),onCurrentChange:T},null,8,["current-page","page-size","total"])])])])]),v(r,{data:h(B).row,"is-dialog":D.value,onClose:$},null,8,["data","is-dialog"])])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/ecolibs/ecolibName.vue"]]);export{E as default};
