import{y as e,A as a,H as s}from"../element-plus/element-plus.bab642f5.js";import"../vue/vue.35a5c883.js";import{u as t,a as o}from"../vue-router/vue-router.62720988.js";import{D as r}from"../DialogEcolib/DialogEcolib.878dd2ae.js";import{u as i}from"../../assets/index.32f89fa2.js";import{_ as l}from"../vue-qr/vue-qr.0ca12301.js";import{t as c,e as p,X as m,q as n,w as u,o as d,c as b,a as j,R as v,u as f,P as h,L as y,a2 as g,O as w,T as _}from"../@vue/@vue.077a65af.js";import"../@vueuse/@vueuse.57a4e826.js";import"../@element-plus/@element-plus.19eacc1c.js";import"../dayjs/dayjs.7a5f879f.js";import"../@intlify/@intlify.d33e2919.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@ctrl/@ctrl.17547d95.js";import"../escape-html/escape-html.d572c0fd.js";import"../@popperjs/@popperjs.12a79995.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.e0b6e81d.js";import"../vuex/vuex.389a1fed.js";import"../axios/axios.3ae77db0.js";import"../echarts/echarts.cc448593.js";import"../zrender/zrender.a8917a70.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.4fe9f180.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.32907f0d.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const x={class:"ecolib chain"},q={class:"panel-content-chart"},z={class:"panel-content-chart-box chain-content-table"},N={class:"panel-content-table"},C={href:"javascript:;"},O={class:"panel-content-table-page"};var E=l({setup(l){const E=c("axios"),P=t(),k=o(),D=p(!1),A=p(""),R=m({header:[],data:[],page:1,limit:10,row:{}}),X=p(1),B={ecosystem:1,type:2,search:""},H={ecosystem:1,type:3,page:1,limit:10,search:"",order:"id desc"};n((()=>i.getters.handlePostEcolibName));const I=async e=>{const a=await E.post("get_eco_database",e);0===a.code&&(R.data=a.data.list,R.page=a.data.page,R.limit=a.data.limit,R.total=a.data.total)};u((()=>{const e=Object.prototype.hasOwnProperty.call(P.query,"name"),a=Object.prototype.hasOwnProperty.call(P.query,"ecosystem");e&&a?(H.search=B.search=A.value=P.query.name,H.ecosystem=B.ecosystem=X.value=Number(P.query.ecosystem),(async e=>{const a=await E.post("get_eco_database",e);0===a.code&&(R.header=a.data.list,H.order=`${a.data.list[0].column_name} desc`,I(H))})(B)):k.push({name:"Ecolibs"})}));const L=e=>{H.page=e,I(H)},T=()=>{D.value=!1;R.row={}},$=e=>{R.row=e,D.value=!0};return(t,o)=>{const i=e,l=a,c=s;return d(),b("div",x,[j("div",q,[j("div",z,[j("div",N,[v(l,{style:{width:"100%"},stripe:"",data:f(R).data,onRowClick:$},{default:h((()=>[(d(!0),b(y,null,g(f(R).header,(e=>(d(),w(i,{key:e.column_name,"show-overflow-tooltip":"",prop:e.column_name,label:e.column_name},{default:h((a=>[j("a",C,[j("span",null,_(a.row[e.column_name]),1)])])),_:2},1032,["prop","label"])))),128))])),_:1},8,["data"]),j("div",O,[v(c,{small:"",background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":Number(f(R).page),"page-size":Number(f(R).limit),total:Number(f(R).total),onCurrentChange:L},null,8,["current-page","page-size","total"])])])])]),v(r,{data:f(R).row,"is-dialog":D.value,onClose:T},null,8,["data","is-dialog"])])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/ecolibs/ecolibName.vue"]]);export{E as default};
